<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <title>Zeeniatt - Streaming Donghua Gratis</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet" />
  <link href="style.css" rel="stylesheet" type="text/css" />
</head>
<body>
  <div class="sticky-header">
    <div class="header-content">
      <h1 class="header-title"><i class="bi bi-stars me-2"></i>Zeeniatt</h1>
      <div class="header-spacer"></div>
      <i class="bi bi-search search-icon" onclick="toggleSearch()"></i>
      <i class="bi bi-list menu-icon" onclick="toggleMenu()"></i>
    </div>
  </div>

  <div class="toggle-search" id="toggleSearch">
    <input type="text" id="searchInput" placeholder="Cari donghua berdasarkan nama..." oninput="searchDonghua()">
  </div>

  <div class="sidebar-overlay" id="sidebarOverlay" onclick="toggleMenu()"></div>

  <div class="sidebar-menu" id="sidebarMenu">
    <a href="index.html" class="menu-item">
      <i class="bi bi-house-door-fill"></i>
      <span>Anime</span>
    </a>
    <a href="donghua.html" class="menu-item active">
      <i class="bi bi-stars"></i>
      <span>Donghua</span>
    </a>
    <a href="komik.html" class="menu-item">
      <i class="bi bi-book-fill"></i>
      <span>Komik</span>
    </a>
    <a href="#" class="menu-item" onclick="goToAbout(); return false;">
      <i class="bi bi-info-circle-fill"></i>
      <span>Tentang</span>
    </a>
    <a href="#" class="menu-item" onclick="goToSupport(); return false;">
      <i class="bi bi-heart-fill"></i>
      <span>Support Admin</span>
    </a>
  </div>

  <div class="main-content" id="mainContent">
    <div class="container-fluid px-0">

      <div id="page-donghua">
        <div class="banner-slider" id="bannerSlider"></div>

        <div class="container">
          <h3 class="section-title">Popular Donghua</h3>
          <div id="popularList" class="d-flex flex-wrap" style="gap: 8px;"></div>
        </div>

        <div class="container">
          <h3 class="section-title">Daftar Donghua</h3>
          <div id="donghuaList" class="d-flex flex-wrap" style="gap: 8px;"></div>
        </div>
      </div>

      <div id="page-about" style="display: none;">
        <div class="container">
          <button class="btn btn-outline-light mb-3" onclick="goToHome()">
            <i class="bi bi-arrow-left"></i> Kembali
          </button>

          <div class="about-section">
            <h2><i class="bi bi-stars me-2"></i>Tentang Donghua di Zeeniatt</h2>
            <p class="lead">Nikmati koleksi donghua (anime China) terbaik secara gratis di Zeeniatt!</p>

            <div class="about-features">
              <div class="feature-item">
                <i class="bi bi-play-circle-fill"></i>
                <h5>Streaming Gratis</h5>
                <p class="small">Nonton donghua sepuasnya tanpa biaya</p>
              </div>
              <div class="feature-item">
                <i class="bi bi-collection-play-fill"></i>
                <h5>Koleksi Lengkap</h5>
                <p class="small">Berbagai donghua dari berbagai genre</p>
              </div>
              <div class="feature-item">
                <i class="bi bi-lightning-fill"></i>
                <h5>Update Cepat</h5>
                <p class="small">Episode terbaru langsung tersedia</p>
              </div>
              <div class="feature-item">
                <i class="bi bi-heart-fill"></i>
                <h5>Kualitas HD</h5>
                <p class="small">Streaming dengan kualitas terbaik</p>
              </div>
            </div>

            <div class="mt-4 pt-4" style="border-top: 1px solid rgba(75, 85, 99, 0.2);">
              <p class="text-light">Dibuat dengan <i class="bi bi-heart-fill" style="color: #dc2626;"></i> untuk para pecinta donghua di Indonesia</p>
            </div>
          </div>
        </div>
      </div>

      <div id="page-support" style="display: none;">
        <div class="container">
          <button class="btn btn-outline-light mb-3" onclick="goToHome()">
            <i class="bi bi-arrow-left"></i> Kembali
          </button>

          <div class="saweria-container">
            <h2><i class="bi bi-heart-fill me-2" style="color: #FF6B6B;"></i>Support Admin</h2>
            <p class="mt-3 mb-2">Bantu website ini terus berkembang dengan memberikan dukungan melalui Saweria!</p>
            <p class="text-light small mb-3">Setiap dukungan Anda sangat berarti untuk pengembangan fitur baru dan maintenance website. </p>

            <a href="https://saweria.co/Zeeniatt" target="_blank" class="saweria-btn">
              <i class="bi bi-gift-fill me-2"></i>Dukung Sekarang
            </a>

            <div class="mt-4 pt-4" style="border-top: 1px solid rgba(124, 92, 255, 0.2);">
              <h5 class="mb-3"><i class="bi bi-star-fill me-2" style="color: #FFD700;"></i>Terima Kasih Untuk Para Supporter</h5>
              <div id="supporterList">
                <p class="text-light small">Daftar supporter akan muncul di sini secara realtime</p>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>

  <div id="notificationPrompt" style="display: none; position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background: rgba(26, 28, 34, 0.98); border: 1px solid rgba(220, 38, 38, 0.4); border-radius: 12px; padding: 16px 24px; z-index: 9999; max-width: 90%; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);">
    <div style="display: flex; align-items: center; gap: 12px; flex-wrap: wrap;">
      <i class="bi bi-bell-fill" style="color: #dc2626; font-size: 1.5rem;"></i>
      <div style="flex: 1; min-width: 200px;">
        <p style="margin: 0; color: #ffffff; font-weight: 600; font-size: 0.9rem;">Dapatkan Notifikasi Donghua Baru!</p>
        <p style="margin: 0; color: #b0b0c0; font-size: 0.75rem;">Kami akan memberi tahu kamu saat ada donghua baru</p>
      </div>
      <div style="display: flex; gap: 8px;">
        <button onclick="enableNotifications()" style="background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%); color: white; border: none; padding: 8px 16px; border-radius: 8px; font-weight: 600; font-size: 0.85rem; cursor: pointer;">
          Aktifkan
        </button>
        <button onclick="dismissNotificationPrompt()" style="background: rgba(75, 85, 99, 0.3); color: #9ca3af; border: none; padding: 8px 16px; border-radius: 8px; font-weight: 600; font-size: 0.85rem; cursor: pointer;">
          Nanti
        </button>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="notification.js"></script>
  <script src="donghua.js"></script>
  <script>
    function showNotificationPrompt() {
      const hasShown = localStorage.getItem('notificationPromptShown');
      const permission = localStorage.getItem('notificationPermission');

      if (!hasShown && permission !== 'granted' && permission !== 'denied') {
        setTimeout(() => {
          document.getElementById('notificationPrompt').style.display = 'block';
          document.getElementById('notificationPrompt').style.animation = 'slideUp 0.3s ease';
        }, 5000);
      }
    }

    async function enableNotifications() {
      const granted = await requestNotificationPermission();
      if (granted) {
        document.getElementById('notificationPrompt').style.display = 'none';
        showNotification(' Notifikasi Aktif! Kami akan memberi tahu kamu saat ada donghua baru');
      } else {
        alert('Izinkan notifikasi di pengaturan browser kamu untuk menerima update donghua baru');
      }
      localStorage.setItem('notificationPromptShown', 'true');
    }

    function dismissNotificationPrompt() {
      document.getElementById('notificationPrompt').style.display = 'none';
      localStorage.setItem('notificationPromptShown', 'true');
    }

    function showNotification(message) {
      const notification = document.createElement('div');
      notification.style.cssText = `
        position: fixed;
        top: 80px;
        right: 20px;
        background: rgba(26, 28, 34, 0.95);
        color: white;
        padding: 12px 24px;
        border-radius: 8px;
        border: 1px solid rgba(34, 197, 94, 0.4);
        z-index: 9999;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        animation: slideIn 0.3s ease;
      `;
      notification.textContent = message;
      document.body.appendChild(notification);
      setTimeout(() => notification.remove(), 3000);
    }

    const style = document.createElement('style');
    style.textContent = `
      @keyframes slideUp {
        from { transform: translateX(-50%) translateY(100px); opacity: 0; }
        to { transform: translateX(-50%) translateY(0); opacity: 1; }
      }
    `;
    document.head.appendChild(style);

    showNotificationPrompt();
  </script>
</body>
</html>
